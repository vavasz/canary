local internalNpcName = "Madara"
local npcType = Game.createNpcType(internalNpcName)
local npcConfig = {}

npcConfig.name = internalNpcName
npcConfig.description = internalNpcName

npcConfig.health = 100
npcConfig.maxHealth = npcConfig.health
npcConfig.walkInterval = 2000
npcConfig.walkRadius = 2

npcConfig.outfit = {
	lookType = 962,
	lookHead = 19,
	lookBody = 76,
	lookLegs = 60,
	lookFeet = 1,
	lookAddons = 2,
}

npcConfig.flags = {
	floorchange = false,
}

local itemsTable = {
	["Helmets"] = {
		{ itemName = "Crown Helmet", clientId = 3385, sell = 2500 },
		{ itemName = "Crusader Helmet", clientId = 3391, sell = 6000 },
		{ itemName = "Dark Helmet", clientId = 3384, sell = 250 },
		{ itemName = "Demon Helmet", clientId = 3387, sell = 65000 },	
    	{ itemName = "Devil Helmet", clientId = 3356, sell = 1000 },
		{ itemName = "Elite Draken Helmet", clientId = 11689, sell = 100000 },
		{ itemName = "Zaoan Helmet", clientId = 10385, sell = 45000 },
		{ itemName = "Royal Helmet", clientId = 3392, sell = 30000 },	
		{ itemName = "Warrior Helmet", clientId = 3369, sell = 5000 },
		{ itemName = "Viking Helmet", clientId = 3367, sell = 70 },
		{ itemName = "Strange Helmet", clientId = 3373, sell = 500 },
		{ itemName = "Skull Helmet", clientId = 5741, sell = 40000 },
		{ itemName = "Brass Helmet", clientId = 3354, sell = 35 },
		{ itemName = "Glacier Mask", clientId = 829, sell = 2500 },
		{ itemName = "Lightning Headband", clientId = 828, sell = 2500 },
		{ itemName = "Pirate Hat", clientId = 6096, sell = 1000 },
		{ itemName = "Terra Hood", clientId = 830, sell = 2500 },
		{ itemName = "Tribal Mask", clientId = 3403, sell = 250 },
		{ itemName = "Bonelord Helmet", clientId = 3408, sell = 7500 },
		{ itemName = "Batwing Hat", clientId = 9103, sell = 8500 },	
		{ itemName = "Jade Hat", clientId = 10451, sell = 9000 },
		{ itemName = "Witch Hat", clientId = 9653, sell = 5000 },
		{ itemName = "Wood Cape", clientId = 3575, sell = 5000 },
		{ itemName = "Steel Helmet", clientId = 3351, sell = 300 },
		{ itemName = "Krimhorn Helmet", clientId = 7461, sell = 200 },
		},
		["Armors"] = {
		{ itemName = "Belted Cape", clientId = 8044, sell = 500 },
		{ itemName = "Blue Robe", clientId = 3567, sell = 10000 },
		{ itemName = "Brass Armor", clientId = 3359, sell = 150 },
		{ itemName = "Chain Armor", clientId = 3358, sell = 70 },
		{ itemName = "Crown Armor", clientId = 3381, sell = 12000 },
		{ itemName = "Demon Armor", clientId = 3388, sell = 60000 },
		{ itemName = "Dark Armor", clientId = 3383, sell = 400 },
		{ itemName = "Dragon Scale Mail", clientId = 3386, sell = 40000 },
		{ itemName = "Doublet", clientId = 3379, sell = 5 },
		{ itemName = "Elven Mail", clientId = 3399, sell = 90000 },
		{ itemName = "Focus Cape", clientId = 8043, sell = 6000 },
		{ itemName = "Knight Armor", clientId = 3370, sell = 5000 },
		{ itemName = "Leopard Armor", clientId = 3404, sell = 1000 },
		{ itemName = "Magic Plate Armor", clientId = 3366, sell = 90000 },	
		{ itemName = "Mammoth Fur Cape", clientId = 7463, sell = 6000 },
		{ itemName = "Mooh'tah Plate", clientId = 21166, sell = 6000 },
		{ itemName = "Noble Armor", clientId = 3380, sell = 8200 },
		{ itemName = "Paladin Armor", clientId = 8063, sell = 20000 },
		{ itemName = "Pirate Shirt", clientId =  6095, sell = 500 },
		{ itemName = "Plate Armor", clientId = 3357, sell = 400 },
		{ itemName = "Red Robe", clientId = 3566, sell = 150 },
		{ itemName = "Scale Armor", clientId = 3377, sell = 80 },
		{ itemName = "Spirit Cloak", clientId = 8042, sell = 350 },
		{ itemName = "Studded Armor", clientId = 3378, sell = 20 },
		{ itemName = "Fur Armor", clientId = 22085, sell = 5000 },
		{ itemName = "Glacier Robe", clientId = 824, sell = 11000 },
		{ itemName = "Lightning Robe", clientId = 825, sell = 11000 },
		{ itemName = "Magma Coat", clientId = 826, sell = 11000 },
		{ itemName = "Terra Mantle", clientId = 811, sell = 11000 },
		{ itemName = "Zaoan Armor", clientId = 10384, sell = 12000 },
		{ itemName = "Crystalline Armor", clientId = 8050, sell = 16000 },
		{ itemName = "Lavos Armor", clientId = 8049, sell = 16000 },
		{ itemName = "Spellweaver's Robe", clientId = 10438, sell = 12000 },
		{ itemName = "Golden Armor", clientId = 3360, sell = 20000 },
		{ itemName = "Swamplair Armor", clientId = 8052, sell = 16000 },
		{ itemName = "Voltage Armor", clientId = 8051, sell = 8000 },
		{ itemName = "Zaoan Robe", clientId = 10439, sell = 12000 },
		{ itemName = "Frozen Plate", clientId = 8059, sell = 53200 },
		{ itemName = "Calopteryx Cape", clientId = 14086, sell = 15000 },
		{ itemName = "Skullcracker Armor", clientId = 8061, sell = 18000 },
		{ itemName = "Master Archer's Armor", clientId = 8060, sell = 19000 },
		{ itemName = "Oceanborn Leviathan Armor", clientId = 8056, sell = 33200 },
		{ itemName = "Robe of the Underworld", clientId = 8062, sell = 33300 },
		{ itemName = "Depth Lorica", clientId = 13994, sell = 30000 },
		{ itemName = "Dream Shroud", clientId = 29423, sell = 60000 },
		{ itemName = "Gnome Armor", clientId = 27648, sell = 70000 },
		{ itemName = "Ornate Chestplate", clientId = 13993, sell = 60000 },
		{ itemName = "Embrace of Nature", clientId = 31579, sell = 110000 },
		{ itemName = "Dwarven Armor", clientId = 3397, sell = 30000 },
		},
		["Legs"] = {
		{ itemName = "Zaoan Legs", clientId = 10387, sell = 14000 },
		{ itemName = "Studded Legs", clientId = 3362, sell = 20 },
		{ itemName = "Elven Legs", clientId = 3401, sell = 105 },
		{ itemName = "Plate Legs", clientId = 3557, sell = 115 },
		{ itemName = "Knight Legs", clientId = 3371, sell = 5000 },
		{ itemName = "Golden Legs", clientId = 3364, sell = 35000 },
		{ itemName = "Pirate Knee Breeches", clientId = 5918, sell = 200 },
		{ itemName = "Mammoth Fur Shorts", clientId = 7464, sell = 850 },
		{ itemName = "Crown Legs", clientId =  3382, sell = 12000 },
		{ itemName = "Brass Legs", clientId = 3372, sell = 50 },
		{ itemName = "Terra Legs", clientId = 812, sell = 11000 },
		{ itemName = "Demon Legs", clientId = 3389, sell = 55000 },
		{ itemName = "Chain Legs", clientId =  3558, sell = 30 },
		{ itemName = "Blue Legs", clientId = 645, sell = 15000 },
		{ itemName = "Bast Skirt", clientId =  3560, sell = 750 },
		{ itemName = "Magma Legs", clientId = 821, sell = 12000 },
		{ itemName = "Lightning Legs", clientId = 822, sell = 12000 },
		{ itemName = "Glacier Kilt", clientId = 823, sell = 12000 },
		{ itemName = "Leaf Legs", clientId = 9014, sell = 500 },
		{ itemName = "Broken Iks Faulds", clientId = 40531, sell = 530 },
		{ itemName = "Dwarven Legs", clientId = 3398, sell = 45000 },
		{ itemName = "Grasshopper Legs", clientId = 14087, sell = 15000 },
		{ itemName = "Alloy Legs", clientId = 21168, sell = 11000 },
		},
		["Shields"] = {
		{ itemName = "Wooden Shield", clientId = 3412, sell = 10 },
		{ itemName = "Warrior's Shield", clientId = 14042, sell = 9000 },
		{ itemName = "Viking Shield", clientId = 3431, sell = 100 },
		{ itemName = "Vampire Shield", clientId = 3434, sell = 15000 },
		{ itemName = "Tusk Shield", clientId = 3443, sell = 850 },
		{ itemName = "Tower Shield", clientId = 3428, sell = 8000 },
		{ itemName = "Tortoise Shield", clientId = 6131, sell = 150 },
		{ itemName = "Tempest Shield", clientId = 3442, sell = 35000 },
		{ itemName = "Studded Shield", clientId = 3426, sell = 25 },
		{ itemName = "Steel Shield", clientId = 3409, sell = 80 },
		{ itemName = "Rift Shield", clientId = 22726, sell = 50000 },
		{ itemName = "Plate Shield", clientId = 3410, sell = 45 },
		{ itemName = "Phoenix Shield", clientId = 3439, sell = 16000 },
		{ itemName = "Norse Shield", clientId = 7460, sell = 1500 },
		{ itemName = "Mino Shield", clientId = 21175, sell = 3000 },
		{ itemName = "Medusa Shield", clientId = 3436, sell = 9000 },
		{ itemName = "Mastermind Shield", clientId = 3414, sell = 50000 },
		{ itemName = "Guardian Shield", clientId = 3415, sell = 2000 },
		{ itemName = "Dragon Shield", clientId = 3416, sell = 4000 },
		{ itemName = "Demon Shield", clientId = 3420, sell = 45000 },
		{ itemName = "Dark Shield", clientId = 3421, sell = 400 },
		{ itemName = "Crown Shield", clientId = 3419, sell = 8000 },
		{ itemName = "Bonelord Shield", clientId = 3418, sell = 1200 },
		{ itemName = "Brass Shield", clientId = 3411, sell = 25 },
		{ itemName = "Copper Shield", clientId = 3430, sell = 50 },
		{ itemName = "Ancient Shield", clientId = 3432, sell = 900 },
		{ itemName = "Battle Shield", clientId = 3413, sell = 95 },
		{ itemName = "Black Shield", clientId = 3429, sell = 800 },
		{ itemName = "Bone Shield", clientId = 3441, sell = 80 },
		{ itemName = "Carapace Shield", clientId = 14088, sell = 32000 },
		{ itemName = "Castle Shield", clientId = 3435, sell = 5000 },
		{ itemName = "Dwarven Shield", clientId = 3425, sell = 100 },
		{ itemName = "Griffin Shield", clientId = 3433, sell = 3000 },
		{ itemName = "Ornate Shield", clientId = 14000, sell = 42000 },
		{ itemName = "Rift Shield", clientId = 22726, sell = 50000 },
		{ itemName = "Ornamented Shield", clientId = 3424, sell = 1500 },
		{ itemName = "Scarab Shield", clientId = 3440, sell = 2000 },
		{ itemName = "Salamander Shield", clientId = 3445, sell = 200 },
        },
		["Boots"] = {
		{ itemName = "Badger Boots", clientId = 22086, sell = 7500 },
		{ itemName = "Draken Boots", clientId = 4033, sell = 4000 },
		{ itemName = "Fur Boots", clientId = 7457, sell = 2000 },
		{ itemName = "Guardian Boots", clientId = 10323, sell = 35000 },
		{ itemName = "Leather Boots", clientId = 3552, sell = 5 },
		{ itemName = "Lightning Boots", clientId = 820, sell = 2500 },
		{ itemName = "Magma Boots", clientId = 818, sell = 2500 },
		{ itemName = "Patched Boots", clientId = 3550, sell = 2000 },
		{ itemName = "Pirate Boots", clientId = 5461, sell = 3000 },
		{ itemName = "Steel Boots", clientId = 3554, sell = 30000 },
		{ itemName = "Terra Boots", clientId = 813, sell = 2500 },
		{ itemName = "Boots Of Haste", clientId = 3079, sell = 35500 },
		{ itemName = "Crocodile Boots", clientId = 3556, sell = 1000 },
		{ itemName = "Zaoan Shoes", clientId = 10386, sell = 5000 },
		{ itemName = "Glacier Shoes", clientId = 819, sell = 2500 },
		{ itemName = "Metal Spats", clientId = 21169, sell = 2000 },
		{ itemName = "Oriental Shoes", clientId =  21981, sell = 15000 },
        },
		["Spellbooks"] = {
        { itemName = "Spellbook of Enlightenment", clientId =  8072, sell = 4000 },
        { itemName = "Spellbook of Warding", clientId =  8073, sell = 8000 },
        { itemName = "Spellbook of Mind Control", clientId =  8074, sell = 15000 },
        { itemName = "Spellbook of Lost Souls", clientId =  8075, sell = 19000 },
		{ itemName = "Wooden Spellbook", clientId =  25699, sell = 12000 },
        { itemName = "Snake God's Wristguard", clientId =  11691, sell = 8000 },
		 },
		["Sword"] = {
        { itemName = "Blacksteel Sword", clientId = 7406, sell = 6000 },
        { itemName = "Bone Sword", clientId = 3338, sell = 20 },
        { itemName = "Bright Sword", clientId = 3295, sell = 6000 },
        { itemName = "BroadSword", clientId = 3301, sell = 500 },
        { itemName = "Carlin Sword", clientId = 3283, sell = 118 },
        { itemName = "Crystal Sword", clientId = 7449, sell = 600 },
        { itemName = "Crystalline Sword", clientId = 16160, sell = 15000 },
        { itemName = "Demonrage Sword", clientId = 7382, sell = 36000 },
		{ itemName = "Giant Sword", clientId = 3281, sell = 17000 },
		{ itemName = "LongSword", clientId = 3285, sell = 50 },
		{ itemName = "Mercenary Sword", clientId = 7386, sell = 12000 },
		{ itemName = "Pharaoh Sword", clientId = 3334, sell = 23000 },
		{ itemName = "Relic Sword", clientId = 7383, sell = 25000 },
		{ itemName = "Runed Sword", clientId = 7417, sell = 45000 },
		{ itemName = "Serpent Sword", clientId = 3297, sell = 12000 },
		{ itemName = "Short Sword", clientId = 3294, sell = 10 },
		{ itemName = "Spike Sword", clientId = 3271, sell = 1000 },
		{ itemName = "Sword", clientId = 3264, sell = 25 },
		{ itemName = "Thaian Sword", clientId = 7391, sell = 16000 },
		{ itemName = "Two Handed Sword", clientId = 3265, sell = 450 },
		{ itemName = "Zaoan Sword", clientId = 10390, sell = 30000 },
	    { itemName = "Scimitar", clientId = 3307, sell = 2000 },
		{ itemName = "Ice Rapier", clientId = 3284, sell = 1000 },
		{ itemName = "Twin Hooks", clientId = 10392, sell = 500 },
		{ itemName = "Fire Sword", clientId = 3280, sell = 5000 },
		{ itemName = "Epee", clientId = 3326, sell = 8000 },
		{ itemName = "Djinn Blade", clientId = 3339, sell = 16000 },
		{ itemName = "Assassin Dagge", clientId = 7404, sell = 20000 },
		{ itemName = "Dragon Slayer", clientId = 7402, sell = 16000 },
		{ itemName = "Berserker", clientId = 7403, sell = 42000 },		 
		{ itemName = "Sabre", clientId = 3273, sell = 15 },
		{ itemName = "Rapier", clientId = 3272, sell = 5 },
		{ itemName = "Katana", clientId = 3300, sell = 35 },
		{ itemName = "Ratana", clientId = 17812, sell = 500 },
		{ itemName = "Wyvern Fang", clientId = 7408, sell = 1500 },
		{ itemName = "Cowtana", clientId = 21177, sell = 2500 },
		{ itemName = "Haunted Blade", clientId = 7407, sell = 12500 },
		{ itemName = "Bloody Edge", clientId = 7416, sell = 32500 },
		{ itemName = "Twiceslicer", clientId = 11657, sell = 28000 },
		{ itemName = "Nightmare Blade", clientId = 7418, sell = 35000 },
		{ itemName = "The Justice Seeker", clientId = 7390, sell = 42000 },
		{ itemName = "The Avenger", clientId = 6527, sell = 42000 },
		{ itemName = "Glooth Blade", clientId = 21179, sell = 1500 },
		{ itemName = "Blade of Corruption", clientId = 11693, sell = 60000 },
		{ itemName = "Shiny Blade", clientId = 16175, sell = 45000 },
		},
	    ["rods"] = {
		{ itemName = "Hailstorm Rod", clientId = 3067, sell = 3000 },
		{ itemName = "Moonlight Rod", clientId = 3070, sell = 300 },
		{ itemName = "Necrotic Rod", clientId = 3069, sell = 1000 },
		{ itemName = "Muck Rod", clientId = 16117, sell = 6000 },
		{ itemName = "Glacial Rod", clientId = 16118, sell = 6000 },
		{ itemName = "Northwind Rod", clientId = 8083, sell = 1500 },
		{ itemName = "Snakebite Rod", clientId = 3066, sell = 200 },
		{ itemName = "Springsprout rod", clientId = 8084, sell = 3500 },
		{ itemName = "Terra Rod", clientId = 3065, sell = 2000 },
		{ itemName = "Underworld Rod", clientId = 8082, sell = 50000 },
		},
	    ["wands"] = {
		{ itemName = "Wand of Cosmic energy", clientId = 3073, sell = 2000 },
		{ itemName = "Wand of Decay", clientId = 3072, sell = 1000 },
		{ itemName = "Wand of Draconia", clientId = 8093, sell = 1500 },
		{ itemName = "Wand of Dragonbreath", clientId = 3075, sell = 300 },
		{ itemName = "Wand of Inferno", clientId = 3071, sell = 3000 },
		{ itemName = "Wand of Starstorm", clientId = 8092, sell = 3500 },
		{ itemName = "Wand of Voodoo", clientId = 8094, sell = 4500 },
		{ itemName = "Wand of Vortex", clientId = 3074, sell = 200 },
		{ itemName = "Crystal Wand", clientId = 3068, sell = 10000 },
		{ itemName = "Wand of Everblazing", clientId = 16115, sell = 6000 },
		{ itemName = "Wand of Defiance", clientId = 16096, sell = 6500 },
		},
	    ["potions"] = {
		{ itemName = "Empty Potion Flask", clientId = 283, sell = 5 },
		{ itemName = "Empty Potion Flask", clientId = 284, sell = 5 },
		{ itemName = "Empty Potion Flask", clientId = 285, sell = 5 },
		},
	    ["various"] = {
		{ itemName = "Amber With a Bug", clientId = 32624, sell = 41000 },
	    { itemName = "Amber With a Bug", clientId = 32624, sell = 41000 },
	    { itemName = "Amber With a Dragonfly", clientId = 32625, sell = 56000 },
	    { itemName = "Amber", clientId = 32626, sell = 20000 },
	    { itemName = "Ancient Coin", clientId = 24390, sell = 350 },
	    { itemName = "Black Pearl", clientId = 3027, sell = 280 },
	    { itemName = "Blue Crystal Shard", clientId = 16119, sell = 1500 },
	    { itemName = "Blue Crystal Splinter", clientId = 16124, sell = 400 },
	    { itemName = "Bronze Goblet", clientId = 5807, sell = 2000 },
	    { itemName = "Brown Crystal Splinter", clientId = 16123, sell = 400 },
	    { itemName = "Brown Giant Shimmering Pearl", clientId = 282, sell = 3000 },
	    { itemName = "Coral Brooch", clientId = 24391, sell = 750 },
	    { itemName = "Crunor Idol", clientId = 30055, sell = 30000 },
	    { itemName = "Cyan Crystal Fragment", clientId = 16125, sell = 800 },
	    { itemName = "Dragon Figurine", clientId = 30053, sell = 45000 },
	    { itemName = "Gemmed Figurine", clientId = 24392, sell = 3500 },
	    { itemName = "Giant Amethyst", clientId = 30061, sell = 60000 },
	    { itemName = "Giant Emerald", clientId = 30060, sell = 90000 },
	    { itemName = "Giant Ruby", clientId = 30059, sell = 70000 },
	    { itemName = "Giant Sapphire", clientId = 30061, sell = 50000 },
	    { itemName = "Giant Topaz", clientId = 32623, sell = 80000 },
	    { itemName = "Gold Ingot", clientId = 9058, sell = 5000 },
	    { itemName = "Gold Nugget", clientId = 3040, sell = 850 },
	    { itemName = "Golden Amulet", clientId = 3013, sell = 6600 },
	    { itemName = "Golden Goblet", clientId = 5805, sell = 5000 },
	    { itemName = "Greater Guardian Gem", clientId = 44604, sell = 10000 },
	    { itemName = "Greater Marksman Gem", clientId = 44607, sell = 10000 },
	    { itemName = "Greater Mystic Gem", clientId = 44613, sell = 10000 },
	    { itemName = "Greater Sage Gem", clientId = 44610, sell = 10000 },
	    { itemName = "Green Crystal Fragment", clientId = 16127, sell = 800 },
	    { itemName = "Green Crystal Shard", clientId = 16121, sell = 1500 },
	    { itemName = "Green Crystal Splinter", clientId = 16122, sell = 400 },
	    { itemName = "Green Giant Shimmering pearl", clientId = 281, sell = 3000 },
	    { itemName = "Guardian Gem", clientId = 44603, sell = 5000 },
	    { itemName = "Lesser Guardian Gem", clientId = 44602, sell = 1000 },
	    { itemName = "Lesser Marksman Gem", clientId = 44605, sell = 1000 },
	    { itemName = "Lesser Mystic Gem", clientId = 44611, sell = 1000 },
	    { itemName = "Lesser Sage Gem", clientId = 44608, sell = 1000 },
	    { itemName = "Lion Figurine", clientId = 33781, sell = 10000 },
	    { itemName = "Marksman Gem", clientId = 44606, sell = 5000 },
	    { itemName = "Mystic Gem", clientId = 44612, sell = 5000 },
	    { itemName = "Onyx Chip", clientId = 22193, sell = 400 },
	    { itemName = "Opal", clientId = 22194, sell = 500 },
	    { itemName = "Ornate Locket", clientId = 30056, sell = 18000 },
	    { itemName = "Prismatic Quartz", clientId = 24962, sell = 450 },
	    { itemName = "Red Crystal Fragment", clientId = 16126, sell = 800 },
	    { itemName = "Ruby Necklace", clientId = 3016, sell = 3560 },
	    { itemName = "Sage Gem", clientId = 44609, sell = 5000 },
	    { itemName = "Silver Goblet", clientId = 5806, sell = 3000 },
	    { itemName = "Skull Coin", clientId = 32583, sell = 12000 },
	    { itemName = "Small Amethyst", clientId = 3033,  sell = 200 },
	    { itemName = "Small Diamond", clientId = 3028, sell = 300 },
	    { itemName = "Small Emerald", clientId = 3032, sell = 250 },
	    { itemName = "Small Enchanted Amethyst", clientId = 678, sell = 200 },
	    { itemName = "Small Enchanted Emerald", clientId = 677, sell = 250 },
	    { itemName = "Small Enchanted Ruby", clientId = 676, sell = 250 },
	    { itemName = "Small Enchanted Sapphire", clientId = 675, sell = 250 },
	    { itemName = "Small Ruby", clientId = 3030, sell = 250 },
	    { itemName = "Small Sapphire", clientId = 3029, sell = 250 },
	    { itemName = "Small Topaz", clientId = 9057, sell = 200 },
	    { itemName = "Tiger Eye", clientId = 24961, sell = 350 },
	    { itemName = "Unicorn Figurine", clientId = 30054, sell = 50000 },
	    { itemName = "Violet Crystal Shard", clientId = 16120, sell = 1500 },
	    { itemName = "Wedding Ring", clientId = 3004, sell = 990 },
	    { itemName = "White Pearl", clientId = 3026, sell = 320 },
	    { itemName = "White Silk Flower", clientId = 34008, sell = 9000 },
		{ itemName = "Pirate Voodoo Doll", clientId = 5810, sell = 500 },
		{ itemName = "Voodoo Doll", clientId = 3002, sell = 400 },
		{ itemName = "Doll", clientId = 2991, sell = 200 },
		},
		["distance"] = {
		{ itemName = "Arrow", clientId = 3447, sell = 2 },
	    { itemName = "Bolt", clientId = 3446, sell = 3 },
	    { itemName = "Bow", clientId = 3350, sell = 70 },
	    { itemName = "crossbow", clientId = 3349, sell = 90 },
	    { itemName = "crystalline arrow", clientId = 15793, sell = 10 },
	    { itemName = "diamond arrow", clientId = 35901, sell = 70 },
	    { itemName = "Drill Bolt", clientId = 16142, sell = 8 },
	    { itemName = "Earth Arrow", clientId = 774, sell = 3 },
	    { itemName = "Envenomed Arrow", clientId = 16143, sell = 8 },
	    { itemName = "Flaming Arrow", clientId = 763, sell = 3 },
	    { itemName = "Flash Arrow", clientId = 761, sell = 3 },
	    { itemName = "Onyx Arrow", clientId = 7365, sell = 5 },
	    { itemName = "Piercing Bolt", clientId = 7363, sell = 3 },
	    { itemName = "Power Bolt", clientId = 3450, sell = 5 },
	    { itemName = "Prismatic Bolt", clientId = 16141, sell = 10 },
	    { itemName = "Royal Spear", clientId = 7378, sell = 10 },
	    { itemName = "Shiver Arrow", clientId = 762, sell = 3 },
	    { itemName = "Sniper Arrow", clientId = 7364, sell = 3 },
	    { itemName = "Spear", clientId = 3277, sell = 2 },
	    { itemName = "Spectral Bolt", clientId = 35902, sell = 50 },
	    { itemName = "Tarsal Arrow", clientId = 14251, sell = 3 },
	    { itemName = "Vortex Bolt", clientId = 14252, sell = 4 },
	    { itemName = "Glooth Spear", clientId = 21158, sell = 235 },
		{ itemName = "Assassin Star", clientId = 7368, sell = 55 },
		{ itemName = "Enchanted Spear", clientId = 7367, sell = 300 },
		{ itemName = "Hunting Spear", clientId = 3347, sell = 7 },
		{ itemName = "Throwing Knife", clientId = 3298, sell = 25 },
		{ itemName = "Throwing Star", clientId = 3287, sell = 35 },
		{ itemName = "Broken Iks Spear", clientId = 40535, sell = 750 },
		{ itemName = "Rift Crossbow", clientId = 22867, sell = 45000 },
		{ itemName = "Crystal Crossbow", clientId = 16163, sell = 40000 },
		{ itemName = "The Ironworker", clientId = 8025, sell = 55000 },
		{ itemName = "Ornate Crossbow", clientId = 14247, sell = 14000 },
		{ itemName = "Modified Crossbow", clientId = 8021, sell = 14000 },
		{ itemName = "Elvish Bow", clientId = 7438, sell = 4000 },
		{ itemName = "Silkweaver Bow", clientId = 8029, sell = 14000 },
		{ itemName = "Composite Hornbow", clientId = 8027, sell = 34000 },
		{ itemName = "Rift Bow", clientId = 22866, sell = 55000 },
		{ itemName = "Hive Bow", clientId = 14246, sell = 34000 },
		{ itemName = "Mycological Bow", clientId = 16164, sell = 40000 },
		},
		["axe"] = {
		{ itemName = "Angelic Axe", clientId = 7436, sell = 5000 },
		{ itemName = "Axe", clientId = 3274, sell = 5 },
		{ itemName = "Barbarian Axe", clientId = 3317, sell = 200 },
		{ itemName = "Battle Axe", clientId = 3266, sell = 90 },
		{ itemName = "Beastslayer Axe", clientId = 3344, sell = 1500 },
		{ itemName = "Butcher's Axe", clientId = 7412, sell = 18000 },
		{ itemName = "Daramian Waraxe", clientId = 3328, sell = 1000 },
		{ itemName = "Deepling Axe", clientId = 13991, sell = 40000 },
		{ itemName = "Double Axe", clientId = 3275, sell = 250 },
		{ itemName = "Dwarven Axe", clientId = 3323, sell = 1500 },
		{ itemName = "Execowtioner Axe", clientId = 7453, sell = 12000 },
		{ itemName = "Drakinata", clientId = 10388, sell = 2500 },
		{ itemName = "Dreaded Cleaver", clientId = 7419, sell = 15000 },
		{ itemName = "Demonwing Axe", clientId = 8098, sell = 85000 },
		{ itemName = "Executioner", clientId = 7453, sell = 55000 },
		{ itemName = "Fire Axe", clientId = 3320, sell = 10000 },
		{ itemName = "Glooth Axe", clientId = 21180, sell = 1500 },
		{ itemName = "Glorious Axe", clientId = 7454, sell = 4000 },
		{ itemName = "Great Axe", clientId = 3303, sell = 35000 },
		{ itemName = "Guardian Axe", clientId = 14043, sell = 9000 },
		{ itemName = "Guardian Halberd", clientId = 3315, sell = 8000 },
		{ itemName = "Halberd", clientId = 3269, sell = 500 },
		{ itemName = "Hand Axe", clientId = 3268, sell = 8 },
		{ itemName = "Hatchet", clientId = 3276, sell = 5 },
		{ itemName = "Heavy Trident", clientId = 12683, sell = 3000 },
		{ itemName = "Hive Scythe", clientId = 14089, sell = 4000 },
		{ itemName = "Hellforged Axe", clientId = 8096, sell = 80000 },
		{ itemName = "Heroic Axe", clientId = 7389, sell = 3000 },
		{ itemName = "Knight Axe", clientId = 3318, sell = 2000 },
		{ itemName = "Lion Axe", clientId = 34253, sell = 4000 },
		{ itemName = "Noble Axe", clientId = 7456, sell = 12000 },
		{ itemName = "Knight Axe", clientId = 3318, sell = 2000 },
		{ itemName = "Orcish Axe", clientId = 3316, sell = 300 },
		{ itemName = "Ornamented Axe", clientId = 7411, sell = 20000 },
		{ itemName = "Royal Axe", clientId = 7434, sell = 40000 },
		{ itemName = "Ruthless Axe", clientId = 6553, sell = 45000 },
		{ itemName = "Titan Axe", clientId = 7413, sell = 4000 },
		{ itemName = "Vile Axe", clientId = 7388, sell = 30000 },
		{ itemName = "Warrior's Axe", clientId = 14040, sell = 9000 },
		{ itemName = "War Axe", clientId = 3342, sell = 12000 },
		},
		["club"] = {
		{ itemName = "Abyss Hammer", clientId = 7414, sell = 28000 },
		{ itemName = "Amber Staff", clientId = 7426, sell = 8000 },
		{ itemName = "Arcane Staff", clientId = 3341, sell = 42000 },
		{ itemName = "Banana Staff", clientId = 3348, sell = 1000 },
		{ itemName = "Battle Hammer", clientId = 3305, sell = 120 },
		{ itemName = "Bonebreaker", clientId = 7428, sell = 12000 },
		{ itemName = "Bone Club", clientId = 3337, sell = 5 },
		{ itemName = "Brutetamer's Staff", clientId = 7379, sell = 1500 },
		{ itemName = "Chaos Mace", clientId = 7427, sell = 9000 },
		{ itemName = "Clerical Mace", clientId = 3311, sell = 170 },
		{ itemName = "Crowbar", clientId = 3304, sell = 22 },
		{ itemName = "Crystal Mace", clientId = 3333, sell = 12000 },
		{ itemName = "Daramian Mace", clientId = 3327, sell = 110 },
		{ itemName = "Deepling Squelcher", clientId = 14250, sell = 7000 },
		{ itemName = "Demonbone", clientId = 7431, sell = 32000 },
		{ itemName = "Diamond Sceptre", clientId = 7387, sell = 3000 },
		{ itemName = "Drachaku", clientId = 10391, sell = 12000 },
		{ itemName = "Dragon Hammer", clientId = 3322, sell = 2000 },
		{ itemName = "Dragonbone Staff", clientId = 7430, sell = 2000 },
		{ itemName = "Furry Club", clientId = 7432, sell = 1000 },
		{ itemName = "Glooth Club", clientId = 9373, sell = 1500 },
		{ itemName = "Hammer of Wrath", clientId = 3332, sell = 32000 },
		{ itemName = "Heavy Mace", clientId = 3340, sell = 52000 },
		{ itemName = "Jade Hammer", clientId = 7422, sell = 25000 },
		{ itemName = "Life Preserver", clientId = 17813, sell = 300 },
		{ itemName = "Mace", clientId = 3286, sell = 22 },
		{ itemName = "Mammoth Whopper", clientId = 7381, sell = 300 },
		{ itemName = "Metal Bat", clientId = 21171, sell = 9000 },
		{ itemName = "Moohtant Cudgel", clientId = 21173, sell = 15000 },
		{ itemName = "Morning Star", clientId = 3282, sell = 90 },
		{ itemName = "Onyx Flail", clientId = 7421, sell = 22000 },
		{ itemName = "Ornate Mace", clientId = 14001, sell = 42000 },
		{ itemName = "Pair of Iron Fists", clientId = 17828, sell = 4000 },
		{ itemName = "Sapphire Hammer", clientId = 7437, sell = 7000 },
		{ itemName = "Shadow Sceptre", clientId = 7451, sell = 10000 },
		{ itemName = "Spiked Squelcher", clientId = 7452, sell = 5000 },
		{ itemName = "Spiky Club", clientId = 17859, sell = 300 },
		{ itemName = "Studded Club", clientId = 3336, sell = 15 },
		{ itemName = "Swampling Club", clientId = 17824, sell = 40 },
		{ itemName = "Taurus Mace", clientId = 7425, sell = 500 },
		{ itemName = "The Stomper", clientId = 8104, sell = 62000 },
		{ itemName = "Unliving Demonbone", clientId = 28831, sell = 72000 },
		{ itemName = "War Hammer", clientId = 3279, sell = 1200 },
		},
		["ring"] = {
		{ itemName = "Axe Ring", clientId = 3092, sell = 80 },
		{ itemName = "Blister Ring", clientId = 31621, sell = 33000 },
		{ itemName = "Butterfly Ring", clientId = 25698, sell = 2200 },
		{ itemName = "Broken Ring of Ending", clientId = 12737, sell = 5000 },
		{ itemName = "Club Ring", clientId = 3093, sell = 100 },
		{ itemName = "Crystal Ring", clientId = 3007, sell = 300 },
		{ itemName = "Death Ring", clientId = 6299, sell = 1200 },
		{ itemName = "Dwarven Ring", clientId = 3097, sell = 100 },
		{ itemName = "Energy Ring", clientId = 3051, sell = 100 },
		{ itemName = "Gold Ring", clientId = 3063, sell = 9000 },
		{ itemName = "Life Ring", clientId = 3052, sell = 50 },
		{ itemName = "Might Ring", clientId = 3048, sell = 300 },
		{ itemName = "Power Ring", clientId = 3050, sell = 50 },
		{ itemName = "Ring of Blue Plasma", clientId = 23529, sell = 9200 },
		{ itemName = "Ring of Green Plasma", clientId = 23531, sell = 9200 },
		{ itemName = "Ring of Healing", clientId = 3098, sell = 100 },
		{ itemName = "Ring of Red Plasma", clientId = 23533, sell = 9200 },
		{ itemName = "Ring of the Sky", clientId = 3006, sell = 30000 },
		{ itemName = "Stealth Ring", clientId = 3049, sell = 200 },
		{ itemName = "Sword Ring", clientId = 3091, sell = 70 },
		{ itemName = "Time Ring", clientId = 3053, sell = 50 },
		},
		["amuleto"] = {
		{ itemName = "Amulet of Loss", clientId = 3057, sell = 20000 },
		{ itemName = "Ancient Amulet", clientId = 3025, sell = 200 },
		{ itemName = "Btoken Amulet", clientId = 3080, sell = 5000 },
		{ itemName = "Bronze Amulet", clientId = 3056, sell = 50 },
		{ itemName = "Demonbone Amulet", clientId = 3019, sell = 32000 },
		{ itemName = "Elven Amulet", clientId = 3082, sell = 100 },
		{ itemName = "Glacier Amulet", clientId = 815, sell = 1500 },
		{ itemName = "Glooth Amulet", clientId = 21183, sell = 2000 },
		{ itemName = "Golden Amulet", clientId = 3013, sell = 2000 },
		{ itemName = "Leviathan's Amulet", clientId = 9303, sell = 3000 },
		{ itemName = "Magma Amulet", clientId = 817, sell = 1500 },
		{ itemName = "Noble Amulet", clientId = 31595, sell = 43000 },
		{ itemName = "Platinum Amulet", clientId = 3055, sell = 2500 },
		{ itemName = "Protection Amulet", clientId = 3084, sell = 150 },
		{ itemName = "Sacred Tree Amulet", clientId = 9302, sell = 3450 },
		{ itemName = "Scarab Amulet", clientId = 3018, sell = 200 },
		{ itemName = "Shockwave Amulet", clientId = 9304, sell = 3000 },
		{ itemName = "Silver Amulet", clientId = 3054, sell = 50 },
		{ itemName = "Star Amulet", clientId = 3014, sell = 500 },
		{ itemName = "Stone skin Amulet", clientId = 3081, sell = 500 },
		{ itemName = "Terra Amulet", clientId = 814, sell = 1500 },
		{ itemName = "WereWolf Amulet", clientId = 22060, sell = 3500 },
		{ itemName = "Beetle Necklace", clientId = 10457, sell = 1500 },
		{ itemName = "Collar of Blue Plasma", clientId = 23526, sell = 6500 },
		{ itemName = "Collar of Green Plasma", clientId = 23527, sell = 6500 },
		{ itemName = "Collar of Red Plasma", clientId = 23527, sell = 6500 },
		{ itemName = "Crystal Necklace", clientId = 3008, sell = 500 },
		{ itemName = "Garlic Necklace", clientId = 3083, sell = 50 },
		{ itemName = "Gearwheel Chain", clientId = 21170, sell = 5500 },
		{ itemName = "Lightning Pendant", clientId = 816, sell = 2500 },
		{ itemName = "Necklace of the Deep", clientId = 13990, sell = 3500 },
		{ itemName = "Ruby Necklace", clientId = 3016, sell = 2500 },
		},
		["tools"] = {
		{ itemName = "Basket", clientId = 2855, sell = 4 },
		{ itemName = "Bottle", clientId = 2875, sell = 2 },
		{ itemName = "Bucket", clientId = 2873, sell = 3 },
		{ itemName = "Candelabrum", clientId = 2911, sell = 8 },
		{ itemName = "Candlestick", clientId = 2917, sell = 2 },
		{ itemName = "Closed Trap", clientId = 3481, sell = 75 },
		{ itemName = "Crowbar", clientId = 3304, sell = 50 },
		{ itemName = "Fishing Rod", clientId = 3483, sell = 40 },
		{ itemName = "Machete", clientId = 3308, sell = 6 },
		{ itemName = "Light Shovel", clientId = 5710, sell = 300 },
		{ itemName = "Pick", clientId = 3456, sell = 15 },
		{ itemName = "Rope", clientId = 3003, sell = 15 },
		{ itemName = "Scythe", clientId = 3453, sell = 10 },
		{ itemName = "Shovel", clientId = 3457, sell = 8 },
		{ itemName = "Torch", clientId = 2920, sell = 1 },
		{ itemName = "Watch", clientId = 2906,  sell = 6 },
		{ itemName = "Worm", clientId = 3492, sell = 1 },
	},   
}

npcConfig.shop = {}
for _, categoryTable in pairs(itemsTable) do
	for _, itemTable in ipairs(categoryTable) do
		table.insert(npcConfig.shop, itemTable)
	end
end

-- On buy npc shop message
npcType.onBuyItem = function(npc, player, itemId, subType, amount, ignore, inBackpacks, totalCost)
	npc:sellItem(player, itemId, amount, subType, 0, ignore, inBackpacks)
end
-- On sell npc shop message
npcType.onSellItem = function(npc, player, itemId, subtype, amount, ignore, name, totalCost)
	player:sendTextMessage(MESSAGE_INFO_DESCR, string.format("Sold %ix %s for %i gold.", amount, name, totalCost))
end
-- On check npc shop message (look item)
npcType.onCheckItem = function(npc, player, clientId, subType) end

local keywordHandler = KeywordHandler:new()
local npcHandler = NpcHandler:new(keywordHandler)

npcType.onThink = function(npc, interval)
	npcHandler:onThink(npc, interval)
end

npcType.onAppear = function(npc, creature)
	npcHandler:onAppear(npc, creature)
end

npcType.onDisappear = function(npc, creature)
	npcHandler:onDisappear(npc, creature)
end

npcType.onMove = function(npc, creature, fromPosition, toPosition)
	npcHandler:onMove(npc, creature, fromPosition, toPosition)
end

npcType.onSay = function(npc, creature, type, message)
	npcHandler:onSay(npc, creature, type, message)
end

npcType.onCloseChannel = function(npc, creature)
	npcHandler:onCloseChannel(npc, creature)
end

local function creatureSayCallback(npc, creature, type, message)
	local player = Player(creature)
	local playerId = player:getId()

	if not npcHandler:checkInteraction(npc, creature) then
		return false
	end

	local formattedCategoryNames = {}
	for categoryName, _ in pairs(itemsTable) do
		table.insert(formattedCategoryNames, "{" .. categoryName .. "}")
	end

	local categoryTable = itemsTable[message:lower()]

	if categoryTable then
		npcHandler:say("Of course, just browse through my wares.", npc, player)
		npc:openShopWindowTable(player, categoryTable)
	end
	return true
end

npcHandler:setCallback(CALLBACK_MESSAGE_DEFAULT, creatureSayCallback)

npcHandler:addModule(FocusModule:new(), npcConfig.name, true, true, true)

npcType:register(npcConfig)
